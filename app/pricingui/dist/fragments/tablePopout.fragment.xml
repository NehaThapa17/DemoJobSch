<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:tnt="sap.tnt" xmlns:core="sap.ui.core">
    <Dialog id="custTable" title="{i18n>customerSH}">
        <Table
            class="sapUiSizeCompact"
            id="idTablePopout"
            width="auto"
            sticky="ColumnHeaders,HeaderToolbar"
            items="{path: 'oModel>/CustomerData',sorter: { path: 'oModel>Customer', descending: false, group: '.getGroup' }, groupHeaderFactory: '.getGroupHeader'}"
            growing="true"
            growingScrollToLoad="true"
            selectionChange="singlemode"
            growingThreshold="8"
            mode="SingleSelectMaster"
        >
            <headerToolbar>
                <Toolbar>
                    <SearchField width="50%" change="onSearchCustomerPop" placeholder="{i18n>searchPlcHolder}" />
                    <ToolbarSpacer />
                    <Button icon="sap-icon://edit" tooltip="{i18n>editCustomer}" press="onEditCustomerPopout" />
                    <Button icon="sap-icon://delete" tooltip="{i18n>delCustomer}" press="onDeleteCustomerPopout" />
                </Toolbar>
            </headerToolbar>
            <columns>
                <!-- <Column mergeDuplicates="true" width="15rem">
                    <header>
                        <Text text="{i18n>customer}" />
                    </header>
                </Column> -->
                <Column demandPopin="true" hAlign="Begin" width="15rem">
                    <header>
                        <Text text="{i18n>shipTo}" />
                    </header>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Begin" width="15rem">
                    <header>
                        <Text text="{i18n>terminal}" />
                    </header>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Begin" width="15rem">
                    <header>
                        <Text text="{i18n>product}" />
                    </header>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="Begin" width="17rem">
                    <header>
                        <Text text="{i18n>email}" />
                    </header>
                </Column>
                <Column hAlign="Center">
                    <header>
                        <Text text="{i18n>daily}" />
                    </header>
                </Column>
                <Column hAlign="Center" width="6rem">
                    <header>
                        <Text text="{i18n>onDemandlbl}" />
                    </header>
                </Column>
            </columns>
            <ColumnListItem>
                <!-- <ObjectIdentifier title="{oModel>Customer}" text="{oModel>CustomerName}" /> -->
                <ObjectIdentifier title="{oModel>ShipTo}" text="{oModel>ShipToName}" />
                <VBox>
                    <HBox>
                        <Link text="{oModel>TerminalFirst}" press="handleTerPopoverPress" ariaHasPopup="Dialog" />
                        <!-- <tnt:InfoLabel text="{oModel>CountTerminal}" colorScheme="1" renderMode="Narrow" /> -->
                        <tnt:InfoLabel text="{oModel>CountTerminal}" visible="{path:'oModel>CountTerminal', formatter: '.formatter.getStatus'}" colorScheme="1" renderMode="Narrow" />
                    </HBox>
                    <Text text="{oModel>TerNameFirst}" />
                </VBox>
                <VBox>
                    <HBox>
                        <Link text="{oModel>ProductFirst}" press="handlePopoverPress" ariaHasPopup="Dialog" />
                        <tnt:InfoLabel text="{oModel>CountProduct}" visible="{path:'oModel>CountProduct', formatter: '.formatter.getStatus'}" colorScheme="1" renderMode="Narrow" />
                        <!-- <tnt:InfoLabel text="{oModel>CountProduct}" colorScheme="1" renderMode="Narrow" /> -->
                    </HBox>
                    <Text text="{oModel>ProdNameFirst}" />
                </VBox>
                <HBox>
                    <Link text="{path:'oModel>EmailTo', formatter: '.formatter.getFirstEmail'}" press="handleEmailPopoverPress" ariaHasPopup="Dialog" />
                    <tnt:InfoLabel text="{oModel>CountEmail}" colorScheme="1" renderMode="Narrow" />
                </HBox>
                <ObjectStatus icon="{path:'oModel>DailyJob', formatter: '.formatter.getIconOrder'}" />
                <ObjectStatus icon="{path:'oModel>OnDemandJob', formatter: '.formatter.getIconOrder'}" />
            </ColumnListItem>
        </Table>
        <beginButton>
            <Button text="{i18n>btnAddNew}" type="Emphasized" press="onCreateCustomer" />
        </beginButton>
        <endButton>
            <Button text="{i18n>cancel}" press="onClose" />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
